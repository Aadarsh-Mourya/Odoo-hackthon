{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\Odoo hackthon\\\\rewear-app\\\\frontend\\\\src\\\\pages\\\\AddItemPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Camera, Upload, X, AlertCircle } from 'lucide-react';\nimport axios from 'axios';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddItemPage = () => {\n  _s();\n  const {\n    user,\n    refreshUser\n  } = useAuth();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    category: '',\n    condition: '',\n    size: '',\n    brand: ''\n  });\n  const [images, setImages] = useState([]);\n  const [imageFiles, setImageFiles] = useState([]);\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [submissionError, setSubmissionError] = useState('');\n  const categories = ['Tops', 'Bottoms', 'Dresses', 'Outerwear', 'Shoes', 'Accessories', 'Athletic Wear', 'Other'];\n  const conditions = ['New with tags', 'Like new', 'Good', 'Fair', 'Worn'];\n  const sizes = ['XS', 'S', 'M', 'L', 'XL', 'XXL', '0', '2', '4', '6', '8', '10', '12', '14', '16'];\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n\n    // Clear error for this field when user starts typing\n    if (errors[name]) {\n      setErrors({\n        ...errors,\n        [name]: ''\n      });\n    }\n  };\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files);\n    if (images.length + files.length > 5) {\n      setErrors({\n        ...errors,\n        images: 'Maximum 5 images allowed'\n      });\n      return;\n    }\n\n    // Preview images\n    const newImages = files.map(file => URL.createObjectURL(file));\n    setImages([...images, ...newImages]);\n    setImageFiles([...imageFiles, ...files]);\n\n    // Clear image error if it exists\n    if (errors.images) {\n      setErrors({\n        ...errors,\n        images: ''\n      });\n    }\n  };\n  const removeImage = index => {\n    const newImages = [...images];\n    const newImageFiles = [...imageFiles];\n    newImages.splice(index, 1);\n    newImageFiles.splice(index, 1);\n    setImages(newImages);\n    setImageFiles(newImageFiles);\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.title.trim()) newErrors.title = 'Title is required';\n    if (!formData.description.trim()) newErrors.description = 'Description is required';\n    if (!formData.category) newErrors.category = 'Category is required';\n    if (!formData.condition) newErrors.condition = 'Condition is required';\n    if (!formData.size) newErrors.size = 'Size is required';\n    if (imageFiles.length === 0) newErrors.images = 'At least one image is required';\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    setLoading(true);\n    setSubmissionError('');\n    try {\n      // Create form data to send images\n      const data = new FormData();\n\n      // Add all form fields\n      Object.keys(formData).forEach(key => {\n        data.append(key, formData[key]);\n      });\n\n      // Add all images\n      imageFiles.forEach(file => {\n        data.append('images', file);\n      });\n\n      // Submit the form\n      const response = await axios.post('/api/items', data, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // After successful submission\n      await refreshUser(); // Refresh user data (in case points change)\n      navigate(`/item/${response.data.id}`);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error submitting item:', error);\n      setSubmissionError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Something went wrong while submitting your item. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-secondary-50 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto px-4 sm:px-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 sm:p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-secondary-900 mb-6\",\n            children: \"List a New Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), submissionError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-700\",\n              children: submissionError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"title\",\n                className: \"block text-sm font-medium text-secondary-700 mb-1\",\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"title\",\n                name: \"title\",\n                value: formData.title,\n                onChange: handleChange,\n                className: `input-field ${errors.title ? 'border-red-500 focus:ring-red-500' : ''}`,\n                placeholder: \"Enter a descriptive title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: errors.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"description\",\n                className: \"block text-sm font-medium text-secondary-700 mb-1\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"description\",\n                name: \"description\",\n                value: formData.description,\n                onChange: handleChange,\n                rows: 4,\n                className: `input-field ${errors.description ? 'border-red-500 focus:ring-red-500' : ''}`,\n                placeholder: \"Describe your item (material, special features, etc.)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: errors.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 sm:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"category\",\n                  className: \"block text-sm font-medium text-secondary-700 mb-1\",\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"category\",\n                  name: \"category\",\n                  value: formData.category,\n                  onChange: handleChange,\n                  className: `input-field ${errors.category ? 'border-red-500 focus:ring-red-500' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select a category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 21\n                  }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: category,\n                    children: category\n                  }, category, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), errors.category && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-600\",\n                  children: errors.category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"condition\",\n                  className: \"block text-sm font-medium text-secondary-700 mb-1\",\n                  children: \"Condition\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"condition\",\n                  name: \"condition\",\n                  value: formData.condition,\n                  onChange: handleChange,\n                  className: `input-field ${errors.condition ? 'border-red-500 focus:ring-red-500' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select condition\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 21\n                  }, this), conditions.map(condition => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: condition,\n                    children: condition\n                  }, condition, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this), errors.condition && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-600\",\n                  children: errors.condition\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 sm:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"size\",\n                  className: \"block text-sm font-medium text-secondary-700 mb-1\",\n                  children: \"Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"size\",\n                  name: \"size\",\n                  value: formData.size,\n                  onChange: handleChange,\n                  className: `input-field ${errors.size ? 'border-red-500 focus:ring-red-500' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select size\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 21\n                  }, this), sizes.map(size => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: size,\n                    children: size\n                  }, size, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 19\n                }, this), errors.size && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-600\",\n                  children: errors.size\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"brand\",\n                  className: \"block text-sm font-medium text-secondary-700 mb-1\",\n                  children: \"Brand (optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"brand\",\n                  name: \"brand\",\n                  value: formData.brand,\n                  onChange: handleChange,\n                  className: \"input-field\",\n                  placeholder: \"Enter brand name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-secondary-700 mb-2\",\n                children: \"Photos (max 5)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `border-2 border-dashed rounded-lg p-6 text-center ${errors.images ? 'border-red-500' : 'border-secondary-300'}`,\n                children: images.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(Camera, {\n                    className: \"mx-auto h-12 w-12 text-secondary-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-4 flex text-sm justify-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"file-upload\",\n                      className: \"relative cursor-pointer rounded-md bg-white font-medium text-primary-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-primary-500\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Upload images\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        id: \"file-upload\",\n                        name: \"file-upload\",\n                        type: \"file\",\n                        accept: \"image/*\",\n                        multiple: true,\n                        className: \"sr-only\",\n                        onChange: handleImageChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"pl-1 text-secondary-500\",\n                      children: \"or drag and drop\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-secondary-500 mt-2\",\n                    children: \"PNG, JPG, WEBP up to 5MB each\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-4\",\n                    children: [images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"relative aspect-square rounded-md overflow-hidden border border-secondary-200\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: image,\n                        alt: `Preview ${index + 1}`,\n                        className: \"w-full h-full object-cover\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        onClick: () => removeImage(index),\n                        className: \"absolute top-1 right-1 bg-secondary-800 bg-opacity-50 rounded-full p-1 text-white hover:bg-opacity-70 transition-colors\",\n                        children: /*#__PURE__*/_jsxDEV(X, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 335,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 29\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 27\n                    }, this)), images.length < 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-center aspect-square border border-secondary-200 border-dashed rounded-md\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"more-images\",\n                        className: \"cursor-pointer text-secondary-500 flex flex-col items-center justify-center w-full h-full hover:bg-secondary-50 transition-colors\",\n                        children: [/*#__PURE__*/_jsxDEV(Upload, {\n                          className: \"w-6 h-6 mb-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 343,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs\",\n                          children: \"Add more\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 344,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          id: \"more-images\",\n                          type: \"file\",\n                          accept: \"image/*\",\n                          multiple: true,\n                          className: \"sr-only\",\n                          onChange: handleImageChange\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 345,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 342,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), errors.images && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: errors.images\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: loading,\n                className: \"btn-primary w-full flex items-center justify-center\",\n                children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(LoadingSpinner, {\n                    size: \"sm\",\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 23\n                  }, this), \"Submitting...\"]\n                }, void 0, true) : 'List My Item'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(AddItemPage, \"+8z7tTLLMi9rC/9tzSWgufuQm/U=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = AddItemPage;\nexport default AddItemPage;\nvar _c;\n$RefreshReg$(_c, \"AddItemPage\");","map":{"version":3,"names":["React","useState","useNavigate","useAuth","Camera","Upload","X","AlertCircle","axios","LoadingSpinner","jsxDEV","_jsxDEV","Fragment","_Fragment","AddItemPage","_s","user","refreshUser","navigate","formData","setFormData","title","description","category","condition","size","brand","images","setImages","imageFiles","setImageFiles","errors","setErrors","loading","setLoading","submissionError","setSubmissionError","categories","conditions","sizes","handleChange","e","name","value","target","handleImageChange","files","Array","from","length","newImages","map","file","URL","createObjectURL","removeImage","index","newImageFiles","splice","validateForm","newErrors","trim","Object","keys","handleSubmit","preventDefault","data","FormData","forEach","key","append","response","post","headers","id","error","_error$response","_error$response$data","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","placeholder","rows","accept","multiple","image","src","alt","onClick","disabled","_c","$RefreshReg$"],"sources":["D:/Coding/Odoo hackthon/rewear-app/frontend/src/pages/AddItemPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { Camera, Upload, X, AlertCircle } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\nconst AddItemPage = () => {\r\n  const { user, refreshUser } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    category: '',\r\n    condition: '',\r\n    size: '',\r\n    brand: '',\r\n  });\r\n  \r\n  const [images, setImages] = useState([]);\r\n  const [imageFiles, setImageFiles] = useState([]);\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [submissionError, setSubmissionError] = useState('');\r\n\r\n  const categories = [\r\n    'Tops', 'Bottoms', 'Dresses', 'Outerwear',\r\n    'Shoes', 'Accessories', 'Athletic Wear', 'Other'\r\n  ];\r\n\r\n  const conditions = [\r\n    'New with tags', 'Like new', 'Good', 'Fair', 'Worn'\r\n  ];\r\n\r\n  const sizes = [\r\n    'XS', 'S', 'M', 'L', 'XL', 'XXL', '0', '2', '4', '6', '8', '10', '12', '14', '16'\r\n  ];\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n    \r\n    // Clear error for this field when user starts typing\r\n    if (errors[name]) {\r\n      setErrors({\r\n        ...errors,\r\n        [name]: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    \r\n    if (images.length + files.length > 5) {\r\n      setErrors({\r\n        ...errors,\r\n        images: 'Maximum 5 images allowed'\r\n      });\r\n      return;\r\n    }\r\n    \r\n    // Preview images\r\n    const newImages = files.map(file => URL.createObjectURL(file));\r\n    setImages([...images, ...newImages]);\r\n    setImageFiles([...imageFiles, ...files]);\r\n    \r\n    // Clear image error if it exists\r\n    if (errors.images) {\r\n      setErrors({\r\n        ...errors,\r\n        images: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    const newImages = [...images];\r\n    const newImageFiles = [...imageFiles];\r\n    \r\n    newImages.splice(index, 1);\r\n    newImageFiles.splice(index, 1);\r\n    \r\n    setImages(newImages);\r\n    setImageFiles(newImageFiles);\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    \r\n    if (!formData.title.trim()) newErrors.title = 'Title is required';\r\n    if (!formData.description.trim()) newErrors.description = 'Description is required';\r\n    if (!formData.category) newErrors.category = 'Category is required';\r\n    if (!formData.condition) newErrors.condition = 'Condition is required';\r\n    if (!formData.size) newErrors.size = 'Size is required';\r\n    if (imageFiles.length === 0) newErrors.images = 'At least one image is required';\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setSubmissionError('');\r\n    \r\n    try {\r\n      // Create form data to send images\r\n      const data = new FormData();\r\n      \r\n      // Add all form fields\r\n      Object.keys(formData).forEach(key => {\r\n        data.append(key, formData[key]);\r\n      });\r\n      \r\n      // Add all images\r\n      imageFiles.forEach(file => {\r\n        data.append('images', file);\r\n      });\r\n      \r\n      // Submit the form\r\n      const response = await axios.post('/api/items', data, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      \r\n      // After successful submission\r\n      await refreshUser(); // Refresh user data (in case points change)\r\n      navigate(`/item/${response.data.id}`);\r\n      \r\n    } catch (error) {\r\n      console.error('Error submitting item:', error);\r\n      setSubmissionError(\r\n        error.response?.data?.error || \r\n        'Something went wrong while submitting your item. Please try again.'\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-secondary-50 py-8\">\r\n      <div className=\"max-w-3xl mx-auto px-4 sm:px-6\">\r\n        <div className=\"card\">\r\n          <div className=\"p-6 sm:p-8\">\r\n            <h1 className=\"text-2xl font-bold text-secondary-900 mb-6\">\r\n              List a New Item\r\n            </h1>\r\n            \r\n            {submissionError && (\r\n              <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3\">\r\n                <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5\" />\r\n                <p className=\"text-red-700\">{submissionError}</p>\r\n              </div>\r\n            )}\r\n            \r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              {/* Item title */}\r\n              <div>\r\n                <label htmlFor=\"title\" className=\"block text-sm font-medium text-secondary-700 mb-1\">\r\n                  Title\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"title\"\r\n                  name=\"title\"\r\n                  value={formData.title}\r\n                  onChange={handleChange}\r\n                  className={`input-field ${errors.title ? 'border-red-500 focus:ring-red-500' : ''}`}\r\n                  placeholder=\"Enter a descriptive title\"\r\n                />\r\n                {errors.title && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.title}</p>\r\n                )}\r\n              </div>\r\n              \r\n              {/* Description */}\r\n              <div>\r\n                <label htmlFor=\"description\" className=\"block text-sm font-medium text-secondary-700 mb-1\">\r\n                  Description\r\n                </label>\r\n                <textarea\r\n                  id=\"description\"\r\n                  name=\"description\"\r\n                  value={formData.description}\r\n                  onChange={handleChange}\r\n                  rows={4}\r\n                  className={`input-field ${errors.description ? 'border-red-500 focus:ring-red-500' : ''}`}\r\n                  placeholder=\"Describe your item (material, special features, etc.)\"\r\n                />\r\n                {errors.description && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.description}</p>\r\n                )}\r\n              </div>\r\n              \r\n              {/* Category and Condition */}\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label htmlFor=\"category\" className=\"block text-sm font-medium text-secondary-700 mb-1\">\r\n                    Category\r\n                  </label>\r\n                  <select\r\n                    id=\"category\"\r\n                    name=\"category\"\r\n                    value={formData.category}\r\n                    onChange={handleChange}\r\n                    className={`input-field ${errors.category ? 'border-red-500 focus:ring-red-500' : ''}`}\r\n                  >\r\n                    <option value=\"\">Select a category</option>\r\n                    {categories.map(category => (\r\n                      <option key={category} value={category}>{category}</option>\r\n                    ))}\r\n                  </select>\r\n                  {errors.category && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.category}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"condition\" className=\"block text-sm font-medium text-secondary-700 mb-1\">\r\n                    Condition\r\n                  </label>\r\n                  <select\r\n                    id=\"condition\"\r\n                    name=\"condition\"\r\n                    value={formData.condition}\r\n                    onChange={handleChange}\r\n                    className={`input-field ${errors.condition ? 'border-red-500 focus:ring-red-500' : ''}`}\r\n                  >\r\n                    <option value=\"\">Select condition</option>\r\n                    {conditions.map(condition => (\r\n                      <option key={condition} value={condition}>{condition}</option>\r\n                    ))}\r\n                  </select>\r\n                  {errors.condition && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.condition}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Size and Brand */}\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label htmlFor=\"size\" className=\"block text-sm font-medium text-secondary-700 mb-1\">\r\n                    Size\r\n                  </label>\r\n                  <select\r\n                    id=\"size\"\r\n                    name=\"size\"\r\n                    value={formData.size}\r\n                    onChange={handleChange}\r\n                    className={`input-field ${errors.size ? 'border-red-500 focus:ring-red-500' : ''}`}\r\n                  >\r\n                    <option value=\"\">Select size</option>\r\n                    {sizes.map(size => (\r\n                      <option key={size} value={size}>{size}</option>\r\n                    ))}\r\n                  </select>\r\n                  {errors.size && (\r\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.size}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"brand\" className=\"block text-sm font-medium text-secondary-700 mb-1\">\r\n                    Brand (optional)\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"brand\"\r\n                    name=\"brand\"\r\n                    value={formData.brand}\r\n                    onChange={handleChange}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Enter brand name\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Image Upload */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\r\n                  Photos (max 5)\r\n                </label>\r\n                \r\n                <div className={`border-2 border-dashed rounded-lg p-6 text-center ${errors.images ? 'border-red-500' : 'border-secondary-300'}`}>\r\n                  {images.length === 0 ? (\r\n                    <div>\r\n                      <Camera className=\"mx-auto h-12 w-12 text-secondary-400\" />\r\n                      <div className=\"mt-4 flex text-sm justify-center\">\r\n                        <label htmlFor=\"file-upload\" className=\"relative cursor-pointer rounded-md bg-white font-medium text-primary-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-primary-500\">\r\n                          <span>Upload images</span>\r\n                          <input \r\n                            id=\"file-upload\" \r\n                            name=\"file-upload\" \r\n                            type=\"file\"\r\n                            accept=\"image/*\"\r\n                            multiple\r\n                            className=\"sr-only\"\r\n                            onChange={handleImageChange}\r\n                          />\r\n                        </label>\r\n                        <p className=\"pl-1 text-secondary-500\">or drag and drop</p>\r\n                      </div>\r\n                      <p className=\"text-xs text-secondary-500 mt-2\">\r\n                        PNG, JPG, WEBP up to 5MB each\r\n                      </p>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-4\">\r\n                        {images.map((image, index) => (\r\n                          <div key={index} className=\"relative aspect-square rounded-md overflow-hidden border border-secondary-200\">\r\n                            <img \r\n                              src={image} \r\n                              alt={`Preview ${index + 1}`} \r\n                              className=\"w-full h-full object-cover\"\r\n                            />\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => removeImage(index)}\r\n                              className=\"absolute top-1 right-1 bg-secondary-800 bg-opacity-50 rounded-full p-1 text-white hover:bg-opacity-70 transition-colors\"\r\n                            >\r\n                              <X className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </div>\r\n                        ))}\r\n                        \r\n                        {images.length < 5 && (\r\n                          <div className=\"flex items-center justify-center aspect-square border border-secondary-200 border-dashed rounded-md\">\r\n                            <label htmlFor=\"more-images\" className=\"cursor-pointer text-secondary-500 flex flex-col items-center justify-center w-full h-full hover:bg-secondary-50 transition-colors\">\r\n                              <Upload className=\"w-6 h-6 mb-1\" />\r\n                              <span className=\"text-xs\">Add more</span>\r\n                              <input \r\n                                id=\"more-images\" \r\n                                type=\"file\" \r\n                                accept=\"image/*\"\r\n                                multiple\r\n                                className=\"sr-only\"\r\n                                onChange={handleImageChange}\r\n                              />\r\n                            </label>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {errors.images && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.images}</p>\r\n                )}\r\n              </div>\r\n              \r\n              {/* Submit Button */}\r\n              <div className=\"pt-4\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"btn-primary w-full flex items-center justify-center\"\r\n                >\r\n                  {loading ? (\r\n                    <>\r\n                      <LoadingSpinner size=\"sm\" className=\"mr-2\" />\r\n                      Submitting...\r\n                    </>\r\n                  ) : (\r\n                    'List My Item'\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddItemPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}